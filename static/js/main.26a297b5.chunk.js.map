{"version":3,"sources":["components/Loader/LoaderImg.jsx","components/Loader/LoaderIcon.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","api/api.js","App.js","index.js"],"names":["Rings","props","width","height","viewBox","xmlns","stroke","color","aria-label","label","fill","fillRule","transform","strokeWidth","cx","cy","r","radius","strokeOpacity","attributeName","begin","dur","values","calcMode","repeatCount","console","log","LoaderIcon","className","Loader","onClick","onChange","type","Button","Searchbar","onSubmit","valueInput","autoComplete","autoFocus","placeholder","value","ModalWin","handleKeyDown","e","preventDefault","target","currentTarget","onModalClose","closeByKey","code","window","addEventListener","this","document","querySelector","style","overflow","removeEventListener","src","hits","alt","Component","ImageGalleryItem","state","isModalOpen","onToggleModal","setState","id","largeImageURL","ImageGallery","children","map","item","webformatURL","tags","axios","defaults","baseURL","setParams","params","apiKey","getImages","query","page","q","per_page","get","then","data","articles","urlToImage","title","App","inputText","isLoading","handleChange","handleSubmit","getGallery","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","error","finally","handleChangePage","prevProps","length","windowSkroll","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.26a297b5.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Rings = ({ props })=> {\r\n   return  <svg\r\n    width={props.width}\r\n    height={props.height}\r\n    viewBox=\"0 0 45 45\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    stroke={props.color}\r\n    aria-label={props.label}\r\n  >\r\n    <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(1 1)\" strokeWidth=\"2\">\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius} strokeOpacity=\"0\">\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"6;22\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"stroke-opacity\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"1;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"stroke-width\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"2;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius} strokeOpacity=\"0\">\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"6;22\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"strokeOpacity\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"1;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"strokeWidth\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"2;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius + 2}>\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"0s\"\r\n          dur=\"1.5s\"\r\n          values=\"6;1;2;3;4;5;6\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n    </g>\r\n  </svg>\r\n}\r\n\r\nRings.propTypes = {\r\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  color: PropTypes.string,\r\n  label: PropTypes.string,\r\n  radius: PropTypes.number\r\n};\r\n\r\n","import { Rings } from './LoaderImg.jsx'\r\nconst LoaderIcon = () => {\r\n    const ringsProps = {\r\n  height: 500,\r\n  width: 500,\r\n      color: \"green\",\r\n  radius: 6,\r\n  label: \"audio-loading\"\r\n};\r\n    return (\r\n      <div className='LoadMoreIcon'><Rings props={ringsProps} /></div>\r\n           )\r\n};\r\nconsole.log('fdsfdsafadsf')\r\nexport default LoaderIcon;","import LoaderIcon from \"./LoaderIcon.jsx\";\r\nimport PropTypes from 'prop-types';\r\nconst Loader = ({ onClick, onChange }) => {\r\n \r\n    return (\r\n        <button type='button' onClick={onClick} onChange={ onChange}>Load More\r\n        </button>\r\n        \r\n    )\r\n};\r\nLoader.propTypes = {\r\n    onclick: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n \r\n};\r\nexport default Loader;","const Button = () => {\r\n    return (\r\n        \r\n        <button type=\"submit\" className=\"SearchForm-button\" >\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n    )\r\n};\r\nexport default Button;","import Button from \"../Button\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Searchbar = ({onSubmit, valueInput, onChange}) => {\r\n    return (\r\n        <>\r\n        <header className=\"Searchbar\">\r\n                <form className=\"SearchForm\" onSubmit={ onSubmit}>\r\n              \r\n                    <Button />\r\n                <input\r\n                        className=\"SearchForm-input\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        value={valueInput}\r\n                        onChange={onChange}\r\n                />\r\n            </form>\r\n        </header>\r\n        </>\r\n    )\r\n};\r\nSearchbar.propTypes = {\r\n  valueInput: PropTypes.string,\r\n    onSubmit: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n \r\n};\r\n    export default Searchbar;","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nexport default class ModalWin extends Component {\r\n  handleKeyDown = e => {\r\n    e.preventDefault()\r\n\r\n    if (e.target === e.currentTarget) {\r\n        this.props.onModalClose()\r\n      }\r\n  }\r\n  closeByKey = (e) => {\r\n  e.code === 'Escape' && this.props.onModalClose()\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeByKey)\r\n    const body = document.querySelector('body');\r\n    body.style.overflow = \"hidden\";  \r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeByKey)\r\n     const body = document.querySelector('body');\r\n    body.style.overflow = \"auto\";\r\n    \r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick= {this.handleKeyDown} >\r\n        <div className=\"Modal\"  >\r\n          <img src={this.props.hits} alt={ this.props.hits} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n};\r\nModalWin.propTypes = {\r\n    hits: PropTypes.string,\r\n    onModalClose: PropTypes.func,\r\n};","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport ModalWin from \"../Modal/Modal.jsx\";\r\nclass ImageGalleryItem extends Component {\r\n    state = {\r\n        isModalOpen: false\r\n    }\r\n    onToggleModal = () => {\r\n        this.setState(({ isModalOpen }) => ({\r\n            isModalOpen: !isModalOpen\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { id, src, alt, largeImageURL } = this.props;\r\n          return (\r\n        \r\n              <li className=\"ImageGalleryItem\"  id={id}>\r\n            <img src={src} alt={ alt}  onClick={ this.onToggleModal} className=\"ImageGalleryItem-image\" />\r\n         {this.state.isModalOpen && <ModalWin onModalClose={this.onToggleModal} hits={largeImageURL}/>}\r\n        </li >\r\n            \r\n \r\n    )\r\n    }\r\n}\r\n ImageGalleryItem.propTypes = {\r\n     alt: PropTypes.string,\r\n     id: PropTypes.string,\r\n     largeImageURL: PropTypes.string,\r\n     onClose: PropTypes.func,\r\n     src: PropTypes.string,\r\n             \r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ children, hits }) => {\r\n    return (\r\n        <ul className=\"ImageGallery\" >\r\n            {hits.map(item => (\r\n                <ImageGalleryItem\r\n                    key={item.webformatURL}\r\n                    id={item.id}\r\n                    src={item.webformatURL}\r\n                    largeImageURL={item.largeImageURL}\r\n                     alt={item.tags}\r\n                ></ImageGalleryItem >\r\n            ))}</ul>\r\n    )\r\n \r\n};\r\n   ImageGallery.propTypes = {\r\n  hits: PropTypes.array, \r\n};\r\nexport default ImageGallery;","import axios from 'axios';\r\n// const API_KEY = '23793325-ff2052386c334e2849b34704b';\r\n// const API_KEY = '9a3e6cf9d6c643e5a70b43ecc2de2e2f';\r\nconst API_KEY = '79fa6b1eb30a455588335102c0b1e4d1';\r\n\r\n//pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\n// axios.defaults.baseURL = 'https://pixabay.com/api/';\r\naxios.defaults.baseURL = 'https://newsapi.org/v2';\r\n// const setParams = params => (axios.defaults.params = { key: API_KEY, ...params });\r\nconst setParams = params => (axios.defaults.params = { apiKey: API_KEY, ...params });\r\nexport const getImages = (query, page = 1) => {\r\n  setParams({\r\n    q: query,\r\n    webformatURL: '',\r\n    largeImageURL: '',\r\n    id: '',\r\n    per_page: 12,\r\n    page,\r\n  });\r\n  // return axios\r\n  //   .get()\r\n  //   .then(({ data }) => data.hits)\r\n  //   .catch(err => {\r\n  //     throw err;\r\n  //   });\r\n  return axios.get('everything').then(({ data }) =>\r\n    data.articles.map(({ urlToImage, title }) => ({\r\n      webformatURL: urlToImage,\r\n      tags: title,\r\n      largeImageURL: urlToImage,\r\n    })),\r\n  );\r\n};\r\n","import './App.css';\nimport './styles/styles.css';\nimport Loader from './components/Loader';\nimport Searchbar from './components/Searchbar';\nimport LoaderIcon from './components/Loader/LoaderIcon';\nimport ImageGallery from './components/ImageGallery';\nimport { getImages } from './api/api';\nimport { Component } from 'react';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    query: 'all',\n    inputText: '',\n    page: 1,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.query !== prevState.query || this.state.page !== prevState.page) {\n      this.getGallery();\n    }\n  }\n\n  handleChange = e => {\n    this.setState({ inputText: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({ query: this.state.inputText, page: 1, hits: [] });\n  };\n\n  getGallery = () => {\n    this.setState({ isLoading: true });\n    getImages(this.state.query, this.state.page)\n      .then(\n        hits =>\n          this.setState(prevState => ({\n            hits: [...prevState.hits, ...hits],\n          })),\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        }),\n      )\n      .catch(err => this.setState({ error: err }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n  handleChangePage = () => {\n    this.setState({ isLoading: true });\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { hits, inputText } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar\n          onSubmit={this.handleSubmit}\n          valueInput={inputText}\n          onChange={this.handleChange}\n        />\n\n        <ImageGallery hits={hits} />\n        {this.state.isLoading && <LoaderIcon />}\n        {this.state.hits.length % 12 !== 0 && this.state.hits !== [] && (\n          <Loader onClick={this.handleChangePage} onChange={this.windowSkroll} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}