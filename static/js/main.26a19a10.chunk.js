(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{21:function(e,t,a){e.exports={loadMoreBtn:"Loader_loadMoreBtn__3zIRy"}},27:function(e,t,a){},28:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(20),s=a.n(i),o=a(11),c=a(3),l=a(4),u=a(6),d=a(5),h=(a(27),a(28),a(21)),b=a.n(h),j=a(0),p=function(e){var t=e.onClick,a=e.onChange;return Object(j.jsx)("button",{className:b.a.loadMoreBtn,type:"button",onClick:t,onChange:a,children:"Load More"})},g=function(){return Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})},m=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputText:""},e.handleChange=function(t){e.setState({inputText:t.target.value})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.inputText)return alert("Please insert your query for search");e.props.onSubmit(e.state.inputText),e.setState({inputText:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(j.jsx)(g,{}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.inputText,onChange:this.handleChange})]})})})}}]),a}(n.Component),f=function(e){var t=e.props;return Object(j.jsx)("svg",{width:t.width,height:t.height,viewBox:"0 0 45 45",xmlns:"http://www.w3.org/2000/svg",stroke:t.color,"aria-label":t.label,children:Object(j.jsxs)("g",{fill:"none",fillRule:"evenodd",transform:"translate(1 1)",strokeWidth:"2",children:[Object(j.jsxs)("circle",{cx:"22",cy:"22",r:t.radius,strokeOpacity:"0",children:[Object(j.jsx)("animate",{attributeName:"r",begin:"1.5s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),Object(j.jsx)("animate",{attributeName:"stroke-opacity",begin:"1.5s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),Object(j.jsx)("animate",{attributeName:"stroke-width",begin:"1.5s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]}),Object(j.jsxs)("circle",{cx:"22",cy:"22",r:t.radius,strokeOpacity:"0",children:[Object(j.jsx)("animate",{attributeName:"r",begin:"3s",dur:"3s",values:"6;22",calcMode:"linear",repeatCount:"indefinite"}),Object(j.jsx)("animate",{attributeName:"strokeOpacity",begin:"3s",dur:"3s",values:"1;0",calcMode:"linear",repeatCount:"indefinite"}),Object(j.jsx)("animate",{attributeName:"strokeWidth",begin:"3s",dur:"3s",values:"2;0",calcMode:"linear",repeatCount:"indefinite"})]}),Object(j.jsx)("circle",{cx:"22",cy:"22",r:t.radius+2,children:Object(j.jsx)("animate",{attributeName:"r",begin:"0s",dur:"1.5s",values:"6;1;2;3;4;5;6",calcMode:"linear",repeatCount:"indefinite"})})]})})},O=function(){return Object(j.jsx)("div",{className:"LoadMoreIcon",children:Object(j.jsx)(f,{props:{height:500,width:500,color:"green",radius:6,label:"audio-loading"}})})},y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){t.preventDefault(),t.target===t.currentTarget&&e.props.onModalClose()},e.closeByKey=function(t){"Escape"===t.code&&e.props.onModalClose()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closeByKey),document.querySelector("body").style.overflow="hidden"}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeByKey),document.querySelector("body").style.overflow="auto"}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"Overlay",onClick:this.handleKeyDown,children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:this.props.hits,alt:this.props.hits})})})}}]),a}(n.Component),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isModalOpen:!1},e.onToggleModal=function(){e.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.src,n=e.alt,r=e.largeImageURL;return Object(j.jsxs)("li",{className:"ImageGalleryItem",id:t,children:[Object(j.jsx)("img",{src:a,alt:n,onClick:this.onToggleModal,className:"ImageGalleryItem-image"}),this.state.isModalOpen&&Object(j.jsx)(y,{onModalClose:this.onToggleModal,hits:r})]})}}]),a}(n.Component),x=function(e){var t=e.hits;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(j.jsx)(v,{id:e.id,src:e.webformatURL,largeImageURL:e.largeImageURL,alt:e.tags},e.webformatURL)}))})},w=a(22),C=a(9),S=a.n(C);S.a.defaults.baseURL="https://pixabay.com/api/";var k=function(e){return S.a.defaults.params=Object(w.a)({key:"23793325-ff2052386c334e2849b34704b"},e)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return k({q:e,webformatURL:"",largeImageURL:"",id:"",per_page:12,page:t}),S.a.get().then((function(e){return e.data.hits})).catch((function(e){throw e}))},N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={hits:[],query:"all",page:1,isLoading:!1},e.handleSubmit=function(t){e.setState({query:t,page:1,hits:[]})},e.getGallery=function(){e.setState({isLoading:!0}),M(e.state.query,e.state.page).then((function(t){return e.setState((function(e){return{hits:[].concat(Object(o.a)(e.hits),Object(o.a)(t))}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.state.page>=2&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.setState({isLoading:!1})}))},e.handleChangePage=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.state.query===t.query&&this.state.page===t.page||this.getGallery()}},{key:"render",value:function(){var e=this.state.hits;return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(m,{onSubmit:this.handleSubmit}),Object(j.jsx)(x,{hits:e}),this.state.isLoading&&Object(j.jsx)(O,{}),this.state.hits.length&&this.state.hits!==[]&&Object(j.jsx)(p,{onClick:this.handleChangePage,onChange:this.getGallery})]})}}]),a}(n.Component);s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.26a19a10.chunk.js.map