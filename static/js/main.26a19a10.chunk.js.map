{"version":3,"sources":["components/Loader/Loader.module.css","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Searchbar/Searchbar.jsx","components/Loader/LoaderImg.jsx","components/Loader/LoaderIcon.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","api/api.js","App.js","index.js"],"names":["module","exports","Loader","onClick","onChange","className","s","loadMoreBtn","type","Button","Searchbar","state","inputText","handleChange","e","setState","target","value","handleSubmit","preventDefault","alert","props","onSubmit","this","autoComplete","autoFocus","placeholder","Component","Rings","width","height","viewBox","xmlns","stroke","color","aria-label","label","fill","fillRule","transform","strokeWidth","cx","cy","r","radius","strokeOpacity","attributeName","begin","dur","values","calcMode","repeatCount","LoaderIcon","ModalWin","handleKeyDown","currentTarget","onModalClose","closeByKey","code","window","addEventListener","document","querySelector","style","overflow","removeEventListener","src","hits","alt","ImageGalleryItem","isModalOpen","onToggleModal","id","largeImageURL","ImageGallery","map","item","webformatURL","tags","axios","defaults","baseURL","setParams","params","key","getImages","query","page","q","per_page","get","then","data","catch","err","App","isLoading","getGallery","prevState","error","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleChangePage","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.26a19a10.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadMoreBtn\":\"Loader_loadMoreBtn__3zIRy\"};","import PropTypes from 'prop-types';\r\nimport s from '../Loader/Loader.module.css'\r\nconst Loader = ({ onClick, onChange }) => {\r\n \r\n    return (\r\n        <button className={ s.loadMoreBtn}type='button' onClick={onClick} onChange={ onChange}>Load More\r\n        </button>\r\n        \r\n    )\r\n};\r\nLoader.propTypes = {\r\n    onclick: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n \r\n};\r\nexport default Loader;","const Button = () => {\r\n    return (\r\n        \r\n        <button type=\"submit\" className=\"SearchForm-button\" >\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n    )\r\n};\r\nexport default Button;","import Button from \"../Button\";\r\nimport PropTypes from 'prop-types';\r\nimport { Component } from 'react';\r\n\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n         inputText: '',\r\n    }\r\n     handleChange = e => {\r\n    this.setState({ inputText: e.target.value });\r\n    };\r\n     handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.inputText === '') return alert('Please insert your query for search');\r\n    this.props.onSubmit(this.state.inputText)\r\n    this.setState({ inputText:\"\"});\r\n  };\r\n   \r\n    render() {\r\n        return (\r\n            <>\r\n                <header className=\"Searchbar\">\r\n                    <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n              \r\n                        <Button />\r\n                        <input\r\n                            className=\"SearchForm-input\"\r\n                            type=\"text\"\r\n                            autoComplete=\"off\"\r\n                            autoFocus\r\n                            placeholder=\"Search images and photos\"\r\n                            value={this.state.inputText}\r\n                            onChange={this.handleChange}\r\n                        />\r\n                    </form>\r\n                </header>\r\n            </>\r\n        )\r\n    }\r\n};\r\nSearchbar.propTypes = {\r\n  valueInput: PropTypes.string,\r\n    onSubmit: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n \r\n};\r\n    export default Searchbar;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const Rings = ({ props })=> {\r\n   return  <svg\r\n    width={props.width}\r\n    height={props.height}\r\n    viewBox=\"0 0 45 45\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    stroke={props.color}\r\n    aria-label={props.label}\r\n  >\r\n    <g fill=\"none\" fillRule=\"evenodd\" transform=\"translate(1 1)\" strokeWidth=\"2\">\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius} strokeOpacity=\"0\">\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"6;22\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"stroke-opacity\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"1;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"stroke-width\"\r\n          begin=\"1.5s\"\r\n          dur=\"3s\"\r\n          values=\"2;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius} strokeOpacity=\"0\">\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"6;22\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"strokeOpacity\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"1;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n        <animate\r\n          attributeName=\"strokeWidth\"\r\n          begin=\"3s\"\r\n          dur=\"3s\"\r\n          values=\"2;0\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n      <circle cx=\"22\" cy=\"22\" r={props.radius + 2}>\r\n        <animate\r\n          attributeName=\"r\"\r\n          begin=\"0s\"\r\n          dur=\"1.5s\"\r\n          values=\"6;1;2;3;4;5;6\"\r\n          calcMode=\"linear\"\r\n          repeatCount=\"indefinite\"\r\n        />\r\n      </circle>\r\n    </g>\r\n  </svg>\r\n}\r\n\r\nRings.propTypes = {\r\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  color: PropTypes.string,\r\n  label: PropTypes.string,\r\n  radius: PropTypes.number\r\n};\r\n\r\n","import { Rings } from './LoaderImg.jsx'\r\nconst LoaderIcon = () => {\r\n    const ringsProps = {\r\n  height: 500,\r\n  width: 500,\r\n      color: \"green\",\r\n  radius: 6,\r\n  label: \"audio-loading\"\r\n};\r\n    return (\r\n      <div className='LoadMoreIcon'><Rings props={ringsProps} /></div>\r\n           )\r\n};\r\n\r\nexport default LoaderIcon;","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nexport default class ModalWin extends Component {\r\n  handleKeyDown = e => {\r\n    e.preventDefault()\r\n\r\n    if (e.target === e.currentTarget) {\r\n        this.props.onModalClose()\r\n      }\r\n  }\r\n  closeByKey = (e) => {\r\n  e.code === 'Escape' && this.props.onModalClose()\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.closeByKey)\r\n    const body = document.querySelector('body');\r\n    body.style.overflow = \"hidden\";  \r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.closeByKey)\r\n     const body = document.querySelector('body');\r\n    body.style.overflow = \"auto\";\r\n    \r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"Overlay\" onClick= {this.handleKeyDown} >\r\n        <div className=\"Modal\"  >\r\n          <img src={this.props.hits} alt={ this.props.hits} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n};\r\nModalWin.propTypes = {\r\n    hits: PropTypes.string,\r\n    onModalClose: PropTypes.func,\r\n};","import { Component } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport ModalWin from \"../Modal/Modal.jsx\";\r\nclass ImageGalleryItem extends Component {\r\n    state = {\r\n        isModalOpen: false\r\n    }\r\n    onToggleModal = () => {\r\n        this.setState(({ isModalOpen }) => ({\r\n            isModalOpen: !isModalOpen\r\n        }))\r\n    }\r\n\r\n    render() {\r\n        const { id, src, alt, largeImageURL } = this.props;\r\n          return (\r\n        \r\n              <li className=\"ImageGalleryItem\"  id={id}>\r\n            <img src={src} alt={ alt}  onClick={ this.onToggleModal} className=\"ImageGalleryItem-image\" />\r\n         {this.state.isModalOpen && <ModalWin onModalClose={this.onToggleModal} hits={largeImageURL}/>}\r\n        </li >\r\n            \r\n \r\n    )\r\n    }\r\n}\r\n ImageGalleryItem.propTypes = {\r\n     alt: PropTypes.string,\r\n     id: PropTypes.number,\r\n     largeImageURL: PropTypes.string,\r\n     src: PropTypes.string,\r\n             \r\n};\r\n\r\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({  hits }) => {\r\n    return (\r\n        <ul className=\"ImageGallery\" >\r\n            {hits.map(item => (\r\n                <ImageGalleryItem\r\n                    key={item.webformatURL}\r\n                    id={item.id}\r\n                    src={item.webformatURL}\r\n                    largeImageURL={item.largeImageURL}\r\n                     alt={item.tags}\r\n                ></ImageGalleryItem >\r\n            ))}</ul>\r\n    )\r\n \r\n};\r\n   ImageGallery.propTypes = {\r\n  hits: PropTypes.array, \r\n};\r\nexport default ImageGallery;","import axios from 'axios';\r\nconst API_KEY = '23793325-ff2052386c334e2849b34704b';\r\n// const API_KEY = '9a3e6cf9d6c643e5a70b43ecc2de2e2f';\r\n// const API_KEY = '79fa6b1eb30a455588335102c0b1e4d1';\r\n\r\n//pixabay.com/api/?q=что_искать&page=номер_страницы&key=твой_ключ&image_type=photo&orientation=horizontal&per_page=12\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n// axios.defaults.baseURL = 'https://newsapi.org/v2';\r\nconst setParams = params => (axios.defaults.params = { key: API_KEY, ...params });\r\n// const setParams = params => (axios.defaults.params = { apiKey: API_KEY, ...params });\r\nexport const getImages = (query, page = 1) => {\r\n  setParams({\r\n    q: query,\r\n    webformatURL: '',\r\n    largeImageURL: '',\r\n    id: '',\r\n    per_page: 12,\r\n    page,\r\n  });\r\n  return axios\r\n    .get()\r\n    .then(({ data }) => data.hits)\r\n    .catch(err => {\r\n      throw err;\r\n    });\r\n  // return axios.get('everything').then(({ data }) =>\r\n  //   data.articles.map(({ urlToImage, title }) => ({\r\n  //     webformatURL: urlToImage,\r\n  //     tags: title,\r\n  //     largeImageURL: urlToImage,\r\n  //   })),\r\n  // );\r\n};\r\n","import './App.css';\nimport './styles/styles.css';\nimport Loader from './components/Loader';\nimport Searchbar from './components/Searchbar';\nimport LoaderIcon from './components/Loader/LoaderIcon';\nimport ImageGallery from './components/ImageGallery';\nimport { getImages } from './api/api';\nimport { Component } from 'react';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    query: 'all',\n    page: 1,\n    isLoading: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.query !== prevState.query || this.state.page !== prevState.page) {\n      this.getGallery();\n    }\n  }\n\n  handleSubmit = query => {\n    this.setState({ query: query, page: 1, hits: [] });\n  };\n\n  getGallery = () => {\n    this.setState({ isLoading: true });\n    getImages(this.state.query, this.state.page)\n      .then(hits =>\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n        })),\n      )\n      .catch(err => this.setState({ error: err }))\n      .finally(() => {\n        if (this.state.page >= 2) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n        this.setState({ isLoading: false });\n      });\n  };\n  handleChangePage = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { hits } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSubmit} />\n        <ImageGallery hits={hits} />\n        {this.state.isLoading && <LoaderIcon />}\n        {this.state.hits.length && this.state.hits !== [] && (\n          <Loader onClick={this.handleChangePage} onChange={this.getGallery} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}